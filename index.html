<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Notes Organizer</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-purple-100 to-blue-100 min-h-screen font-sans p-4">
  <div class="max-w-4xl mx-auto">
    <h1 class="text-4xl font-bold text-center text-purple-700 mb-6">ðŸ“š Subject Notes Organizer</h1>

    <div class="flex gap-2 mb-6">
      <input type="text" id="subjectInput" placeholder="Add new subject..." class="flex-1 p-2 rounded border border-purple-400" />
      <button onclick="addSubject()" class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700">Add Subject</button>
    </div>

    <div id="subjectContainer" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
      <!-- Subjects will appear here -->
    </div>
  </div>

  <script>
    const subjectContainer = document.getElementById('subjectContainer');

    function loadSubjects() {
      const saved = localStorage.getItem('subjects');
      if (saved) {
        const subjects = JSON.parse(saved);
        subjects.forEach(renderSubject);
      }
    }

    function saveSubjects() {
      const subjects = Array.from(document.querySelectorAll('.subject-card')).map(card => {
        const title = card.querySelector('.subject-title').textContent;
        const files = Array.from(card.querySelectorAll('.file-list li')).map(li => li.textContent);
        return { title, files };
      });
      localStorage.setItem('subjects', JSON.stringify(subjects));
    }

    function addSubject() {
      const subjectInput = document.getElementById('subjectInput');
      const subject = subjectInput.value.trim();
      if (!subject) return;
      renderSubject({ title: subject, files: [] });
      saveSubjects();
      subjectInput.value = '';
    }

    function renderSubject({ title, files }) {
      const card = document.createElement('div');
      card.className = 'subject-card bg-white rounded-xl shadow-md p-4';

      card.innerHTML = `
        <h2 class="subject-title text-xl font-semibold mb-2 text-purple-600">${title}</h2>
        <input type="file" class="mb-2" multiple onchange="handleFileUpload(this)" />
        <ul class="file-list list-disc list-inside text-sm text-gray-700"></ul>
        <button onclick="deleteSubject(this)" class="mt-2 text-sm text-red-500 hover:underline">Delete Subject</button>
      `;

      const fileList = card.querySelector('.file-list');
      files.forEach(file => {
        const li = document.createElement('li');
        li.textContent = file;
        fileList.appendChild(li);
      });

      subjectContainer.appendChild(card);
    }

    function handleFileUpload(input) {
      const files = Array.from(input.files);
      const fileList = input.parentElement.querySelector('.file-list');
      files.forEach(file => {
        const li = document.createElement('li');
        li.textContent = file.name;
        fileList.appendChild(li);
      });
      saveSubjects();
    }

    function deleteSubject(button) {
      const card = button.closest('.subject-card');
      card.remove();
      saveSubjects();
    }

    loadSubjects();
  </script>
</body>
</html>
